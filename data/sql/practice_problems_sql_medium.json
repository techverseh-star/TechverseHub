[
    {
        "id": "sql-m-1",
        "title": "Find Employees with Department Names",
        "difficulty": "Medium",
        "language": "sql",
        "description": "Use an INNER JOIN to list employee names along with their department names. Tables: employees(id, name, dept_id), departments(id, dept_name).",
        "examples": "SELECT e.name, d.dept_name FROM employees e INNER JOIN departments d ON e.dept_id = d.id;",
        "solution": "SELECT e.name, d.dept_name FROM employees e INNER JOIN departments d ON e.dept_id = d.id;",
        "hints": "Use INNER JOIN with ON condition."
    },
    {
        "id": "sql-m-2",
        "title": "Count Employees in Each Department",
        "difficulty": "Medium",
        "language": "sql",
        "description": "Return department names and the total number of employees in each, using GROUP BY.",
        "examples": "SELECT d.dept_name, COUNT(*) FROM employees e JOIN departments d ON e.dept_id = d.id GROUP BY d.dept_name;",
        "solution": "SELECT d.dept_name, COUNT(*) AS total FROM employees e JOIN departments d ON e.dept_id = d.id GROUP BY d.dept_name;",
        "hints": "GROUP BY must include non-aggregated columns."
    },
    {
        "id": "sql-m-3",
        "title": "Find High Salary Employees",
        "difficulty": "Medium",
        "language": "sql",
        "description": "Return employees who earn above the average salary using a subquery.",
        "examples": "SELECT * FROM employees WHERE salary > (SELECT AVG(salary) FROM employees);",
        "solution": "SELECT * FROM employees WHERE salary > (SELECT AVG(salary) FROM employees);",
        "hints": "Use subquery with AVG()."
    },
    {
        "id": "sql-m-4",
        "title": "Find Departments Having More than 5 Employees",
        "difficulty": "Medium",
        "language": "sql",
        "description": "Use HAVING to filter grouped results.",
        "examples": "SELECT dept_id, COUNT(*) FROM employees GROUP BY dept_id HAVING COUNT(*) > 5;",
        "solution": "SELECT dept_id, COUNT(*) AS total FROM employees GROUP BY dept_id HAVING COUNT(*) > 5;",
        "hints": "HAVING filters aggregated results."
    },
    {
        "id": "sql-m-5",
        "title": "Get Employees Hired This Year",
        "difficulty": "Medium",
        "language": "sql",
        "description": "Select employees hired in the current year using YEAR() function.",
        "examples": "SELECT * FROM employees WHERE YEAR(hire_date) = YEAR(NOW());",
        "solution": "SELECT * FROM employees WHERE YEAR(hire_date) = YEAR(NOW());",
        "hints": "Use YEAR(date_column)."
    },
    {
        "id": "sql-m-6",
        "title": "Find Duplicate Email Addresses",
        "difficulty": "Medium",
        "language": "sql",
        "description": "Return emails that appear more than once in users table.",
        "examples": "SELECT email FROM users GROUP BY email HAVING COUNT(*) > 1;",
        "solution": "SELECT email FROM users GROUP BY email HAVING COUNT(*) > 1;",
        "hints": "GROUP BY + HAVING."
    },
    {
        "id": "sql-m-7",
        "title": "Top 3 Highest Salaries",
        "difficulty": "Medium",
        "language": "sql",
        "description": "Return top 3 highest salaries using ORDER BY and LIMIT.",
        "examples": "SELECT salary FROM employees ORDER BY salary DESC LIMIT 3;",
        "solution": "SELECT salary FROM employees ORDER BY salary DESC LIMIT 3;",
        "hints": "Use ORDER BY DESC."
    },
    {
        "id": "sql-m-8",
        "title": "Find Employees Without a Department",
        "difficulty": "Medium",
        "language": "sql",
        "description": "Use LEFT JOIN to find employees who don't belong to any department.",
        "examples": "SELECT e.* FROM employees e LEFT JOIN departments d ON e.dept_id = d.id WHERE d.id IS NULL;",
        "solution": "SELECT e.* FROM employees e LEFT JOIN departments d ON e.dept_id = d.id WHERE d.id IS NULL;",
        "hints": "Check for NULL on right table."
    },
    {
        "id": "sql-m-9",
        "title": "Find Names Containing Substring Case-Insensitive",
        "difficulty": "Medium",
        "language": "sql",
        "description": "Return employees whose name contains 'an' ignoring case.",
        "examples": "SELECT * FROM employees WHERE LOWER(name) LIKE '%an%';",
        "solution": "SELECT * FROM employees WHERE LOWER(name) LIKE '%an%';",
        "hints": "Use LOWER()."
    },
    {
        "id": "sql-m-10",
        "title": "Select Employees with Salary Above Department Average",
        "difficulty": "Medium",
        "language": "sql",
        "description": "Compare employee salary with the average salary of their department using correlated subquery.",
        "examples": "SELECT e.* FROM employees e WHERE salary > (SELECT AVG(salary) FROM employees WHERE dept_id = e.dept_id);",
        "solution": "SELECT e.* FROM employees e WHERE e.salary > (SELECT AVG(salary) FROM employees WHERE dept_id = e.dept_id);",
        "hints": "Use correlated subquery referencing e.dept_id."
    }
]